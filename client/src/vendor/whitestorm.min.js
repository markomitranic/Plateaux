/*! WhitestormJS Framework v2.0.0-beta.9.1 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):"object"==typeof exports?exports.WHS=t(require("three")):e.WHS=t(e.THREE)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=86)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var a,u,c,s,l=n(0),f=(n.n(l),n(5)),p=n(9),h=n(3),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(a=n.i(p.a)(n.i(p.b)("position","rotation","quaternion","scale"),n.i(p.c)("material","geometry")))((s=c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaults,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.instructions;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));if(a.params.build){var u=a.build(a.params);if(!u)throw new h.a("MeshComponent",".build() method should return a THREE.Object3D or a Promise resolved with THREE.Object3D.",a);u instanceof Promise?u.then(function(e){a.native=e,a.wrap()}):(a.native=u,a.wrap())}return a}return i(t,e),b(t,null,[{key:"custom",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Mesh;return function(t){function a(){return r(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return i(a,t),b(a,[{key:"build",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,r=this.applyBridge({geometry:e,material:t.material}),o=r.geometry,i=r.material;return this.applyBridge({mesh:new n(o,i)}).mesh}}]),a}(t)}},{key:"create",value:function(e,n,r){return new(t.custom(e,r))(n)}}]),b(t,[{key:"build",value:function(){throw new h.a("MeshComponent","Instance should have it's own .build().",this)}},{key:"wrap",value:function(){var e=this;return new Promise(function(t){var n=e.params,r=n.position,o=n.rotation,i=n.scale,a=n.shadow;e.position.set(r.x,r.y,r.z),e.rotation.set(o.x,o.y,o.z),e.scale.set(i.x,i.y,i.z),e.native.castShadow=a.cast,e.native.receiveShadow=a.receive,e.applyBridge({onWrap:1}),t(e)})}},{key:"copy",value:function(e){var n=this;return y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"copy",this).call(this,e,function(){n.position.copy(e.position),n.rotation.copy(e.rotation),n.quaternion.copy(e.quaternion)})}},{key:"clone",value:function(e,t){var n=new this.constructor({build:!1}).copy(this);return e&&(n.geometry=n.geometry.clone()),t&&(n.material=n.material.clone()),n}}]),t}(f.a),c.defaults=d({},f.a.defaults,{build:!0,geometry:{},material:!1,shadow:{cast:!0,receive:!0},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}}),c.instructions={position:["x","y","z"],rotation:["x","y","z"],scale:["x","y","z"]},u=s))||u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var a,u,c,s,l=n(5),f=n(9),p=n(3),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},b=(a=n.i(f.a)(n.i(f.b)("position","rotation","quaternion","target")))((s=c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaults,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.instructions;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));if(a.params.build){var u=a.build(a.params);if(!u)throw new p.a("LightComponent",".build() method should return a THREE.Object3D or a Promise resolved with THREE.Object3D.",a);u instanceof Promise?u.then(function(e){a.native=e}):a.native=u,a.wrap()}return a}return i(t,e),d(t,[{key:"build",value:function(){throw new p.a("MeshComponent","Instance should have it's own .build().",this)}},{key:"wrap",value:function(){var e=this;return new Promise(function(t){e.defer(function(){var n=e.params,r=n.position,o=n.rotation;e.position.set(r.x,r.y,r.z),e.rotation.set(o.x,o.y,o.z),e.applyBridge({onWrap:1}),t(e)})})}},{key:"wrapShadow",value:function(){var e=this.native,t=this.params.shadow;e.castShadow=t.cast,e.shadow.mapSize.width=t.mapSize.width,e.shadow.mapSize.height=t.mapSize.height,e.shadow.bias=t.bias,e.shadow.radius=t.radius;var n=e.shadow.camera,r=t.camera;n.near=r.near,n.far=r.far,n.fov=r.fov,n.left=r.left,n.right=r.right,n.top=r.top,n.bottom=r.bottom}},{key:"copy",value:function(e){var n=this;return y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"copy",this).call(this,e,function(){n.target&&n.target.copy(e.target()),n.position.copy(e.position),n.rotation.copy(e.rotation),n.quaternion.copy(e.quaternion)})}},{key:"clone",value:function(){return new this.constructor({build:!1}).copy(this)}}]),t}(l.a),c.defaults=h({},l.a.defaults,{build:!0,shadow:{cast:!0,bias:0,radius:1,mapSize:{width:1024,height:1024},camera:{near:!0,far:400,fov:90,top:200,bottom:-200,left:-200,right:200}},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}}),c.instructions={position:["x","y","z"],rotation:["x","y","z"],scale:["x","y","z"]},u=s))||u},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c});var a=function(t){function n(t,i,a){r(this,n);var u=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"@"+t+": "+i)),c=u.stack.split("\n");return c.splice(1,2),u.stack=c.join("\n"),e||console.error("Component:",a),u.name="CompositionError",u}return i(n,t),n}(Error),u=function(t){function n(t,i,a){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,n);var c=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"@"+t+": "+i)),s=c.stack.split("\n");return s.splice(1,2),c.stack=s.join("\n"),e||console.error("Active module:",a),!e&&u&&console.error("Dependency published by module:",u),c.name="DependencyError",c}return i(n,t),n}(Error),c=function(t){function n(t,i,a){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,n);var c=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"@"+t+": "+i)),s=c.stack.split("\n");return s.splice(1,2),c.stack=s.join("\n"),e||console.error("Component:",dependencyModule),!e&&u&&console.error("Active module:",u),c.name="ManagerError",c}return i(n,t),n}(Error)}).call(t,n(85))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.uniqName=void 0===t?"pass_"+(65536*(1+Math.random())|0).toString(16).substring(1):t,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return o(e,[{key:"setSize",value:function(e,t){}},{key:"render",value:function(e,t,n,r,o){console.error("Pass: .render() must be implemented in derived pass.")}},{key:"name",get:function(){return this.uniqName}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var a,u,c=n(26),s=n(21),l=n(8),f=n(3),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaults,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.instructions;r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u._wait=[],u.modules=[],u.children=[],u.params=n.i(c.a)(n.i(c.c)(e,a),i),u.params.manager&&(u.manager=new l.a),u.modules=u.params.modules,u.integrateModules(),u}return i(t,e),h(t,[{key:"wait",value:function(e){return e&&this._wait.push(e),Promise.all(this._wait)}},{key:"defer",value:function(e){var t=this;this.isDeffered?this.wait().then(function(){return e(t)}):e(this)}},{key:"updateParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.params=n.i(c.a)(e,this.params),this.params}},{key:"clone",value:function(){return new this.constructor(this.params).copy(this)}},{key:"copy",value:function(e,t){return this.params=p({},e.params),e.native&&(this.native=e.native.clone(e.params)),t&&t(),this.integrateModules(e),this}},{key:"add",value:function(e){var t=this;return e.parent=this,new Promise(function(n,r){t.defer(function(){var o=e.native;o||r();var i=t.applyBridge({onAdd:e}).onAdd,a=function(){t.native.add(o),t.children.push(e),n(e)};i instanceof Promise?i.then(a):a()})})}},{key:"remove",value:function(e){e.parent=null,this.native.remove(e.native)}},{key:"addTo",value:function(e){return e.add(this)}},{key:"isDeffered",get:function(){return this._wait.length>0}},{key:"manager",get:function(){if(this._manager)return this._manager;throw new f.b("Component","ModuleManager is not used in this component. 'manager' parameter should be set as 'true'",this)},set:function(e){this._manager=e}},{key:"native",get:function(){return this._native},set:function(e){return this._native=e,this._native.component=this,this._native}}]),t}(s.a),a.defaults={modules:[],manager:!0},a.instructions={},u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var a,u,c,s,l=n(5),f=n(9),p=n(3),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},b=(a=n.i(f.a)(n.i(f.b)("position","rotation","quaternion","target")))((s=c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaults,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.instructions;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));if(a.params.build){var u=a.build(a.params);if(!u)throw new p.a("CameraComponent",".build() method should return a THREE.Object3D or a Promise resolved with THREE.Object3D.",a);u instanceof Promise?u.then(function(e){a.native=e}):a.native=u,a.wrap()}return a}return i(t,e),d(t,[{key:"build",value:function(){throw new p.a("CameraComponent","Instance should have it's own .build().",this)}},{key:"wrap",value:function(){var e=this;return new Promise(function(t){e.defer(function(){e.position.set(e.params.position.x,e.params.position.y,e.params.position.z),e.rotation.set(e.params.rotation.x,e.params.rotation.y,e.params.rotation.z),e.applyBridge({onWrap:1}),t(e)})})}},{key:"copy",value:function(e){var n=this;return y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"copy",this).call(this,e,function(){n.target&&n.target.copy(e.target()),n.position.copy(e.position),n.rotation.copy(e.rotation),n.quaternion.copy(e.quaternion)})}},{key:"clone",value:function(){return new this.constructor({build:!1}).copy(this)}}]),t}(l.a),c.defaults=h({},l.a.defaults,{build:!0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}}),c.instructions={position:["x","y","z"],rotation:["x","y","z"],scale:["x","y","z"]},u=s))||u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var o=n(0),i=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),a=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,e),this.func=t,this.clock=n?new o.Clock:null,this.enabled=!1}return i(e,[{key:"start",value:function(e){this.enabled||(e&&e.addLoop(this),this.clock&&this.clock.start(),this.enabled=!0)}},{key:"stop",value:function(e){this.enabled&&(this.clock&&this.clock.stop(),this.enabled=!1,e&&e.removeLoop(this))}},{key:"execute",value:function(){return this.func(this.clock)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var o=n(3),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.handler=t,this.currentModule=null,this.store={},this.updateMap={}}return i(e,[{key:"active",value:function(e){this.currentModule=e}},{key:"reset",value:function(){this.currentModule=null}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.updateMap[t]?this.updateMap[t].push(e[t]):this.updateMap[t]=[e[t]]}},{key:"add",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.store[e]&&this.store[e][2].immutable)throw new o.c("ModuleManager","Dependency '"+e+"' is immutable and already used by another module",this.currentModule,this.store[e][1]);if(this.store[e]=[t,this.currentModule,r],r.alias&&Object.defineProperty(this.handler,r.alias,{get:function(){return n.store[e][0]},set:function(t){if(n.store[e]&&n.store[e][2].immutable)throw new o.c("ModuleManager","Dependency '"+e+"' is immutable and already used by another module",n.currentModule,n.store[e][1]);if(n.store[e][0]=t,n.updateMap[e])for(var r=0,i=n.updateMap[e].length;r<i;r++)n.updateMap[e][r](t)},enumerable:!0,configurable:!0}),this.updateMap[e])for(var i=0,a=this.updateMap[e].length;i<a;i++)this.updateMap[e][i](t)}},{key:"remove",value:function(e){this.store[e]=null}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.store[e])throw new o.c("ModuleManager","Module requires '"+e+"' dependency",this.currentModule);return t?this.store[e][1]:this.store[e][0]}},{key:"has",value:function(e){return Boolean(this.store[e])}},{key:"set",value:function(e,t){this.add(e,t,this.store[e][2]||{})}}]),e}()},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.map.length;o++){var i=r.map[o];Object.defineProperty(e.prototype,i,{get:r.getter(i),set:r.setter(i),configurable:r.configurable,enumerable:r.enumerable})}}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{map:t,getter:function(e){return function(){return this.native[e]}},setter:function(e){return function(t){this.native[e].copy(t)}},configurable:!0,enumerable:!0}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{map:t,getter:function(e){return function(){return this.native[e]}},setter:function(e){return function(t){this.native[e]=t}},configurable:!0,enumerable:!0}}t.a=r,t.b=o,t.c=i},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n",fragmentShader:"\n    uniform float opacity;\n\n    uniform sampler2D tDiffuse;\n\n    varying vec2 vUv;\n\n    void main() {\n\n      vec4 texel = texture2D( tDiffuse, vUv );\n      gl_FragColor = opacity * texel;\n\n    }\n"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var o=n(18),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.params=Object.assign({fov:75,near:1,far:1e3,position:{x:0,y:0,z:0}},t),this.camera=new o.a({camera:{fov:this.params.fov,aspect:this.params.aspect,near:this.params.near,far:this.params.far},modules:[],position:{x:this.params.position.x,y:this.params.position.y,z:this.params.position.z}})}return i(e,[{key:"integrate",value:function(e){this.add(e.camera)}},{key:"manager",value:function(e){e.add("camera",this.camera,{alias:"$camera"})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.params=Object.assign({container:document.body},t),this.element=window.document.createElement("div"),this.element.className="whs",this.element.style.width="inherit",this.element.style.height="inherit",this.element.style.position="relative"}return o(e,[{key:"manager",value:function(e){e.add("element",this.element,{alias:"$element"}),e.add("container",this.params.container,{alias:"$container"})}},{key:"integrate",value:function(e){e.params.container.appendChild(e.element)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,[{key:"manager",value:function(e){this.element=e.get("renderer").domElement}},{key:"patchEvents",value:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).forEach(function(n){return e.addEventListener(n,function(e){return t.emit(n,e)})})}},{key:"integrate",value:function(e){var t=e.element,n=e.patchEvents;n(t,this,["mousemove","mouseup","contextmenu","mousedown","click","wheel","touchstart","touchend","touchmove","keydown"]),n(t,this,["keydown","keyup","keypress"])}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var o,i,a=n(0),u=(n.n(a),n(7)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(i=o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shadow:!1},o=n.shadow;r(this,e),this.params=Object.assign({width:window.innerWidth,height:window.innerHeight,resolution:new a.Vector2(1,1),pixelRatio:window.devicePixelRatio,bgColor:0,bgOpacity:1,renderer:{}},t);var i=this.params,u=i.bgColor,c=i.bgOpacity,s=i.renderer,l=i.pixelRatio,f=i.width,p=i.height,h=i.resolution;this.renderer=new a.WebGLRenderer(s),this.applyAdditional("shadow",o),this.renderer.setClearColor(u,c),l&&this.renderer.setPixelRatio(l),this.setSize(Number(f*h.x).toFixed(),Number(p*h.y).toFixed())}return c(e,[{key:"applyAdditional",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.additional[t].apply(this,[this.renderer])}},{key:"integrateRenderer",value:function(e,t,n){var r=this;return this.scene=t,this.camera=n,this.renderLoop=new u.a(function(){return r.renderer.render(r.scene,r.camera)}),this.attachToCanvas(e),this.renderLoop}},{key:"setSize",value:function(e,t){this.renderer&&this.renderer.setSize(e,t)}},{key:"attachToCanvas",value:function(e){var t=this.renderer.domElement;e.appendChild(t),t.style.width="100%",t.style.height="100%"}},{key:"stop",value:function(){this.renderLoop.stop()}},{key:"play",value:function(){this.renderLoop.start()}},{key:"manager",value:function(e){var t=this;this.renderLoop=this.integrateRenderer(e.get("element"),e.get("scene"),e.get("camera").native),e.update({element:function(e){t.attachToCanvas(e)},scene:function(e){t.scene=e},camera:function(e){t.camera=e.native}}),e.add("renderer",this.renderer,{alias:"$rendering"})}},{key:"integrate",value:function(e){e.renderLoop.start(this)}},{key:"dispose",value:function(e){e.renderLoop.stop(this),e.renderer.forceContextLoss()}}]),e}(),o.additional={shadow:function(e){e.shadowMap.enabled=!0}},i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.params=Object.assign({auto:!0},t)}return o(e,[{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.camera.native.aspect=e/t,this.camera.native.updateProjectionMatrix(),this.rendering&&this.rendering.setSize(e,t)}},{key:"trigger",value:function(){var e=this.container,t=e.offsetWidth,n=e.offsetHeight,r=this.resolution;this.setSize(Number(t*r.x).toFixed(),Number(n*r.y).toFixed())}},{key:"addAutoresize",value:function(){this.container=this.getContainer(),this.resolution=this.getResolution(),this.params.auto&&window.addEventListener("resize",this.trigger.bind(this))}},{key:"manager",value:function(e){this.rendering=e.get("renderer"),this.camera=e.get("camera"),this.getResolution=function(){return e.get("renderer",!0).params.resolution},this.getContainer=function(){return e.get("container")},this.addAutoresize()}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var o=n(0),i=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,e),this.scene=t?null:new o.Scene}return i(e,[{key:"manager",value:function(e){e.add("scene",this.scene,{alias:"$scene"})}},{key:"integrate",value:function(e){this.children=[],this.add=function(t){var n=this;return t.parent=this,new Promise(function(r,o){t.defer(function(){var i=t.native;i||o();var a=n.applyBridge({onAdd:t}).onAdd,u=function(){e.scene.add(i),n.children.push(t),r(t)};a instanceof Promise?a.then(u):u()})})},this.remove=function(t){t.parent=null,e.scene.remove(t.native)},this.setScene=function(t){e.scene=t,this.manager.set("scene",t)}}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r=n(84),o=n.n(r),i={window:"undefined"==typeof window?e:window};e.performance={now:o.a}}).call(t,n(28))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(6)),l=n(17),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults))}return i(t,e),p(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({camera:new c.PerspectiveCamera(e.camera.fov,e.camera.aspect,e.camera.near,e.camera.far)}).camera}}]),t}(s.a),a.defaults=f({},s.a.defaults,{camera:{near:1,far:1e3,fov:45,aspect:l.a.window.innerWidth/l.a.window.innerHeight}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions,!1))}return i(t,e),p(t,null,[{key:"filter",value:function(e,t){return function e(n){return n.children.forEach(function(r,o){r.children&&e(r),t(r)||n.children.splice(o,1)}),n}(e)}}]),p(t,[{key:"build",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new Promise(function(t){n.texturePath&&n.laoder.setTexturePath(n.texturePath),n.loader.load(n.url,function(){n.onLoad.apply(n,arguments);var r=e.applyBridge({mesh:n.parser.apply(n,arguments)}).mesh,o=e.applyBridge({geometry:r.geometry,material:n.useCustomMaterial?n.material:r.material}),i=o.geometry,a=o.material;r.geometry&&(r.geometry=i),r.material&&(r.material=a),t(r)},n.onProgress,n.onError)});return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wait",this).call(this,r),r}}]),t}(s.a),a.defaults=l({},s.a.defaults,{url:"",loader:new c.JSONLoader,onLoad:function(){},onProgress:function(){},onError:function(){},texturePath:null,useCustomMaterial:!1,parser:function(e,t){return new c.Mesh(e,t)}}),a.instructions=l({},s.a.instructions),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(17),u=n(21),c=n(8),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.simulate=!1,n.updateEnabled=!0,n.loops=[],n.manager=new c.a(n),n.modules=e,n.integrateModules(),n}return i(t,e),s(t,[{key:"start",value:function(){function e(){if(t(e),r)for(var o=0,i=n.length;o<i;o++){var a=n[o];a.enabled&&a.execute(a.clock)}}var t=function(){return a.a.window.requestAnimationFrame||a.a.window.webkitRequestAnimationFrame||a.a.window.mozRequestAnimationFrame||function(e){a.a.window.setTimeout(e,1e3/60)}}(),n=this.loops,r=this.updateEnabled;this.updateEnabled=!0,e()}},{key:"stop",value:function(){this.updateEnabled=!1}},{key:"addLoop",value:function(e){var t=this;return new Promise(function(n){t.loops.push(e),n(e)})}},{key:"removeLoop",value:function(e){var t=this;return new Promise(function(n){t.loops.filter(function(t){return t!==e}),n(e)})}}]),t}(u.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a=n(0),u=(n.n(a),n(27)),c=n.n(u),s=n(3),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){throw new Error("WhitestormJS Framework requires Three.js r84. https://threejs.org/")};try{a.REVISION||f()}catch(e){f()}var p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"integrateModules",value:function(e){e&&(this.modules=e.modules.slice(0));for(var t=0,n=this.modules.length;t<n;t++)this.applyModule(this.modules[t],!1);e&&this.applyBridge({onCopy:e})}},{key:"applyBridge",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.modules,n=0,r=t.length;n<r;n++)for(var o in e)if(e[o]){var i=t[n];i&&i.bridge&&i.bridge[o]&&(e[o]=i.bridge[o].apply(this,[e[o],i]))}return e}},{key:"applyModule",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){if(t&&this.modules.push(e),this.manager&&this.manager.active(e),e.manager&&this.manager)e.manager(this.manager);else if(e.manager)throw new s.b("Component","Module requires ModuleManager that is turned off for this component",this,e);return e.integrate&&e.integrate.bind(this)(e),e}}},{key:"applyModuleOnce",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.modules.some(function(t){return t instanceof e}))return this.applyModule(t(),n)}},{key:"disposeModules",value:function(){for(;this.modules.length;)this.disposeModule(this.modules[0])}},{key:"disposeModule",value:function(e){if(e)return this.modules.splice(this.modules.indexOf(e),1),e.dispose&&e.dispose.bind(this)(e),e}},{key:"module",value:function(e){return this.applyModule(e),this}}]),t}(c.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});var a=n(4),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e,n,i){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scene=n,a.camera=i,a.clear=!0,a.needsSwap=!1,a.inverse=!1,a}return i(t,e),u(t,[{key:"render",value:function(e,t,n){var r=e.context,o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);var i=this.inverse?0:1,a=this.inverse?1:0;o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,i,4294967295),o.buffers.stencil.setClear(a),e.render(this.scene,this.camera,n,this.clear),e.render(this.scene,this.camera,t,this.clear),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP)}}]),t}(a.a),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.needsSwap=!1,n}return i(t,e),u(t,[{key:"render",value:function(e){e.state.buffers.stencil.setTest(!1)}}]),t}(a.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return c});var a=n(4),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e,n,i,a,u,c){r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.scene=n,s.camera=i,s.overrideMaterial=a,s.clearColor=u,s.clearAlpha=void 0===c?0:c,s.clear=!0,s.needsSwap=!1,s}return i(t,e),u(t,[{key:"render",value:function(e,t,n){var r=void 0,o=void 0,i=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(r=e.getClearColor().getHex(),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,this.renderToScreen?null:n,this.clear),this.clearColor&&e.setClearColor(r,o),this.scene.overrideMaterial=null,e.autoClear=i}}]),t}(a.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var a=n(0),u=(n.n(a),n(4)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,n,i){r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.textureID=void 0===i?"tDiffuse":i,n instanceof a.ShaderMaterial?(u.uniforms=n.uniforms,u.material=n):n&&(u.uniforms=a.UniformsUtils.clone(n.uniforms),u.material=new a.ShaderMaterial({defines:n.defines||{},uniforms:u.uniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader})),u.camera=new a.OrthographicCamera(-1,1,1,-1,0,1),u.scene=new a.Scene,u.quad=new a.Mesh(new a.PlaneBufferGeometry(2,2),null),u.scene.add(u.quad),u}return i(t,e),c(t,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}]),t}(u.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return u});var o=n(7),i=n(13),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,e),this.params=Object.assign({controls:!1,fix:function(e){return e},update:function(e){this.controls.update(e.getDelta())}},t),this.controls=this.params.controls,this.update=this.params.update,this.patchEvents=n}return a(e,null,[{key:"from",value:function(t){return new e({controls:t})}}]),a(e,[{key:"setControls",value:function(e){return this.controls=e,this}},{key:"setUpdate",value:function(e){return this.update=e,this}},{key:"integrate",value:function(e){e.patchEvents&&this.applyModuleOnce(i.a,function(){return new i.a}),e.updateLoop=new o.a(e.update.bind(e)).start(this)}}]),e}()},function(e,t,n){"use strict";var r=n(82);n.d(t,"a",function(){return r.a});var o=n(83);n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return o.b}),n.d(t,"d",function(){return o.c})},function(e,t){e.exports=function(e){var t={},n=[];e=e||this,e.on=function(e,n,r){(t[e]=t[e]||[]).push([n,r])},e.off=function(e,r){e||(t={});for(var o=t[e]||n,i=o.length=r?o.length:0;i--;)r==o[i][0]&&o.splice(i,1)},e.emit=function(e){for(var r,o=t[e]||n,i=o.length>0?o.slice(0,o.length):o,a=0;r=i[a++];)r[0].apply(r[1],n.slice.call(arguments,1))}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62);n.d(t,"Component",function(){return r.a}),n.d(t,"MeshComponent",function(){return r.b}),n.d(t,"LightComponent",function(){return r.c}),n.d(t,"CameraComponent",function(){return r.d}),n.d(t,"App",function(){return r.e}),n.d(t,"TestApp",function(){return r.f}),n.d(t,"Loop",function(){return r.g}),n.d(t,"ModuleManager",function(){return r.h});var o=n(39);n.d(t,"AmbientLight",function(){return o.a}),n.d(t,"DirectionalLight",function(){return o.b}),n.d(t,"HemisphereLight",function(){return o.c}),n.d(t,"PointLight",function(){return o.d}),n.d(t,"SpotLight",function(){return o.e}),n.d(t,"AreaLight",function(){return o.f});var i=n(32);n.d(t,"CubeCamera",function(){return i.a}),n.d(t,"OrthographicCamera",function(){return i.b}),n.d(t,"PerspectiveCamera",function(){return i.c});var a=n(60);n.d(t,"Box",function(){return a.a}),n.d(t,"Cylinder",function(){return a.b}),n.d(t,"Dodecahedron",function(){return a.c}),n.d(t,"Extrude",function(){return a.d}),n.d(t,"Icosahedron",function(){return a.e}),n.d(t,"Lathe",function(){return a.f}),n.d(t,"Line",function(){return a.g}),n.d(t,"Importer",function(){return a.h}),n.d(t,"Octahedron",function(){return a.i}),n.d(t,"Parametric",function(){return a.j}),n.d(t,"Plane",function(){return a.k}),n.d(t,"Polyhedron",function(){return a.l}),n.d(t,"Ring",function(){return a.m}),n.d(t,"Shape",function(){return a.n}),n.d(t,"Sphere",function(){return a.o}),n.d(t,"Tetrahedron",function(){return a.p}),n.d(t,"Text",function(){return a.q}),n.d(t,"Torus",function(){return a.r}),n.d(t,"Torusknot",function(){return a.s}),n.d(t,"Tube",function(){return a.t}),n.d(t,"Group",function(){return a.u});var u=n(64);n.d(t,"ClearPass",function(){return u.a}),n.d(t,"MaskPass",function(){return u.b}),n.d(t,"ClearMaskPass",function(){return u.c}),n.d(t,"Pass",function(){return u.d}),n.d(t,"RenderPass",function(){return u.e}),n.d(t,"ShaderPass",function(){return u.f}),n.d(t,"TexturePass",function(){return u.g}),n.d(t,"CopyShader",function(){return u.h});var c=n(26);n.d(t,"extend",function(){return c.a}),n.d(t,"instruct",function(){return c.b}),n.d(t,"transformData",function(){return c.c}),n.d(t,"toArray",function(){return c.d});var s=n(75);n.d(t,"ElementModule",function(){return s.a}),n.d(t,"CameraModule",function(){return s.b}),n.d(t,"RenderingModule",function(){return s.c}),n.d(t,"SceneModule",function(){return s.d}),n.d(t,"ResizeModule",function(){return s.e}),n.d(t,"PostProcessorModule",function(){return s.f}),n.d(t,"VirtualMouseModule",function(){return s.g}),n.d(t,"EventsPatchModule",function(){return s.h}),n.d(t,"ControlsModule",function(){return s.i}),n.d(t,"FogModule",function(){return s.j});var l=n(73);n.d(t,"OrbitControlsModule",function(){return l.a});var f=n(78);n.d(t,"DynamicGeometryModule",function(){return f.a}),n.d(t,"TextureModule",function(){return f.b});var p=n(81);n.d(t,"BasicAppPreset",function(){return p.a});var h=n(63);n.d(t,"Model",function(){return h.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(6)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({camera:new c.CubeCamera(e.camera.near,e.camera.far,e.camera.cubeResolution)}).camera}}]),t}(s.a),a.defaults=l({},s.a.defaults,{camera:{near:1,far:1e3,cubeResolution:128}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(6)),l=n(17),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults))}return i(t,e),p(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({camera:new c.OrthographicCamera(e.camera.left,e.camera.right,e.camera.top,e.camera.bottom,e.camera.near,e.camera.far)}).camera}}]),t}(s.a),a.defaults=f({},s.a.defaults,{camera:{near:1,far:1e3,left:l.a.window.innerWidth/-2,right:l.a.window.innerWidth/2,top:l.a.window.innerHeight/2,bottom:l.a.window.innerHeight/-2}}),u)},function(e,t,n){"use strict";var r=n(30);n.d(t,"a",function(){return r.a});var o=n(31);n.d(t,"b",function(){return o.a});var i=n(18);n.d(t,"c",function(){return i.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(2)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({light:new c.AmbientLight(e.light.color,e.light.intensity)}).light}}]),t}(s.a),a.defaults=l({},s.a.defaults,{light:{color:16777215,intensity:1}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(2)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({light:new c.RectAreaLight(e.light.color,e.light.intensity,e.light.width,e.light.height)}).light}}]),t}(s.a),a.defaults=l({},s.a.defaults,{light:{color:16777215,intensity:1,width:10,height:10}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(2)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults));return n.wrapShadow(),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({light:new c.DirectionalLight(e.light.color,e.light.intensity)}).light}}]),t}(s.a),a.defaults=l({},s.a.defaults,{light:{color:16777215,intensity:1}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(2)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({light:new c.HemisphereLight(e.light.skyColor,e.light.groundColor,e.light.intensity)}).light}}]),t}(s.a),a.defaults=l({},s.a.defaults,{light:{skyColor:16777215,groundColor:16777215,intensity:1}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(2)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults));return n.wrapShadow(),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({light:new c.PointLight(e.light.color,e.light.intensity,e.light.distance,e.light.decay)}).light}}]),t}(s.a),a.defaults=l({},s.a.defaults,{light:{color:16777215,intensity:1,distance:100,decay:1}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(2)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults));return n.wrapShadow(),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.applyBridge({light:new c.SpotLight(e.light.color,e.light.intensity,e.light.distance,e.light.angle,e.light.exponent,e.light.decay)}).light}}]),t}(s.a),a.defaults=l({},s.a.defaults,{light:{color:16777215,intensity:1,distance:100,angle:Math.PI/3,exponent:0,decay:1}}),u)},function(e,t,n){"use strict";var r=n(33);n.d(t,"a",function(){return r.a});var o=n(35);n.d(t,"b",function(){return o.a});var i=n(36);n.d(t,"c",function(){return i.a});var a=n(37);n.d(t,"d",function(){return a.a});var u=n(38);n.d(t,"e",function(){return u.a});var c=n(34);n.d(t,"f",function(){return c.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer?c.BoxBufferGeometry:c.BoxGeometry)(e.geometry.width,e.geometry.height,e.geometry.depth,e.geometry.widthSegments,e.geometry.heightSegments,e.geometry.depthSegments)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1}}),a.instructions=l({},s.a.instructions,{geometry:["width","height","depth","widthSegments","heightSegments","depthSegements"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffer&&!e.softbody?c.CylinderBufferGeometry:c.CylinderGeometry,n=new t(e.geometry.radiusTop,e.geometry.radiusBottom,e.geometry.height,e.geometry.radiusSegments,e.geometry.heightSegments,e.geometry.openEnded,e.geometry.thetaStart,e.geometry.thetaLength);return e.softbody&&this.proccessSoftbodyGeometry(n),n}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radiusTop:0,radiusBottom:1,height:1,radiusSegments:32,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:2*Math.PI}}),a.instructions=l({},s.a.instructions,{geometry:["radiusTop","radiusBottom","height","radiusSegments","heightSegments","openEnded","thetaStart","thetaLength"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.DodecahedronBufferGeometry:c.DodecahedronGeometry)(e.geometry.radius,e.geometry.detail)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:1,detail:0}}),a.instructions=l({},s.a.instructions,{geometry:["radius","detail"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new c.ExtrudeGeometry(e.geometry.shapes,e.geometry.options);return e.buffer?(new c.BufferGeometry).fromGeometry(t):t}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{shapes:[],options:{}}}),a.instructions=l({},s.a.instructions,{geometry:["shapes","options"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(0),u=(n.n(a),n(1)),c=n(5),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){r(this,t);for(var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{})),n=arguments.length,i=Array(n),u=0;u<n;u++)i[u]=arguments[u];for(var s=0;s<i.length;s++){var l=i[s];l instanceof c.a?l.addTo(e):l instanceof a.Object3D&&e.native.add(l)}return e}return i(t,e),s(t,[{key:"build",value:function(){return new a.Object3D}}]),t}(u.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.IcosahedronBufferGeometry:c.IcosahedronGeometry)(e.geometry.radius,e.geometry.detail)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:1,detail:0}}),a.instructions=l({},s.a.instructions,{geometry:["radius","detail"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.LatheBufferGeometry:c.LatheGeometry)(e.geometry.points)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{points:[]}}),a.instructions=l({},s.a.instructions,{geometry:["points"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Line(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffer?new c.BufferGeometry:new c.Geometry;if(!1===e.geometry.curve)return t.vertices.push(e.geometry.start),t.vertices.push(e.geometry.end),t;if(e.buffer){for(var n=e.geometry.curve.getPoints(e.geometry.points),r=new Float32Array(3*n.length),o=0,i=n.length;o<i;o++){var a=3*o;r[a]=n[o].x,r[a+1]=n[o].y,r[a+2]=n[o].z}t.addAttribute("position",new c.BufferAttribute(r,3))}else t.vertices=e.geometry.curve.getPoints(e.geometry.points);return t}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{curve:!1,points:50,start:new c.Vector3(0,0,0),end:new c.Vector3(10,0,0)}}),a.instructions=l({},s.a.instructions,{geometry:["curve","points"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.OctahedronBufferGeometry:c.OctahedronGeometry)(e.geometry.radius,e.geometry.detail)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:1,detail:0}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.ParametricBufferGeometry:c.ParametricGeometry)(e.geometry.func,e.geometry.slices,e.geometry.stacks)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{func:function(e,t){return new c.Vector3(e,t,0)},slices:10,stacks:10}}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffer||e.softbody?c.PlaneBufferGeometry:c.PlaneGeometry,n=new t(e.geometry.width,e.geometry.height,e.geometry.wSegments,e.geometry.hSegments);return e.softbody&&this.proccessSoftbodyGeometry(n),n}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{width:10,height:10,wSegments:1,hSegments:1}}),a.instructions=l({},s.a.instructions,{geometry:["width","height","wSegments","hSegments"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],d=[2,1,0,0,3,2,0,4,7,7,3,0,0,1,5,5,4,0,1,2,6,6,5,1,2,3,7,7,6,2,4,5,6,6,7,4],y=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.PolyhedronBufferGeometry:c.PolyhedronGeometry)(e.geometry.verticesOfCube,e.geometry.indicesOfFaces,e.geometry.radius,e.geometry.detail)}}]),t}(s.a),a.verticesOfCube=h,a.indicesOfFaces=d,a.defaults=l({},s.a.defaults,{geometry:{verticesOfCube:h,indicesOfFaces:d,radius:6,detail:2},physics:{create:!1}}),a.instructions=l({},s.a.instructions,{geometry:["verticesOfCube","indicesOfFaces","radius","detail"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.RingBufferGeometry:c.RingGeometry)(e.geometry.innerRadius,e.geometry.outerRadius,e.geometry.thetaSegments,e.geometry.phiSegments,e.geometry.thetaStart,e.geometry.thetaLength)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{innerRadius:0,outerRadius:50,thetaSegments:8,phiSegments:8,thetaStart:0,thetaLength:2*Math.PI}}),a.defaults=l({},s.a.defaults,{geometry:["innerRadius","outerRadius","thetaSegments","phiSegments","thetaStart","thetaLength"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.ShapeBufferGeometry:c.ShapeGeometry)(e.geometry.shapes)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{shapes:[]}}),a.instructions=l({},s.a.instructions,{geometry:["shapes"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions))}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffer&&!e.softbody?c.SphereBufferGeometry:c.SphereGeometry,n=new t(e.geometry.radius,e.geometry.widthSegments,e.geometry.heightSegments);return e.softbody&&this.proccessSoftbodyGeometry(n),n}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:1,widthSegments:8,heightSegments:6}}),a.instructions=l({},s.a.instructions,{geometry:["radius","widthSegments","heightSegments"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.TetrahedronBufferGeometry:c.TetrahedronGeometry)(e.geometry.radius,e.geometry.detail)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:1,detail:0},physics:{create:!1}}),a.instructions=l({},s.a.instructions,{geometry:["radius","detail"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new Promise(function(t){c.FontLoader.load(n.geometry.parameters.font,function(r){n.geometry.parameters.font=r;var o=e.applyBridge({geometry:new c.TextGeometry(n.geometry.text,n.geometry.parameters),material:n.material}),i=o.geometry,a=o.material;t(e.applyBridge({mesh:new c.Mesh(i,a)}).mesh)})});return p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wait",this).call(this,r),r}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{text:"Hello World!",loader:new c.FontLoader,parameters:{size:12,height:50,curveSegments:12,font:new c.Font,bevelEnabled:!1,bevelThickness:10,bevelSize:8}}}),a.instructions=l({},s.a.instructions,{geometry:["text","parameters"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new c.TorusGeometry(e.geometry.radius,e.geometry.tube,e.geometry.radialSegments,e.geometry.tubularSegments,e.geometry.arc)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:100,tube:40,radialSegments:8,tubularSegments:6,arc:2*Math.PI}}),a.instructions=l({},s.a.instructions,{geometry:["radius","tube","radialSegments","tubularSegments","arc"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(e.buffer&&!e.softbody?c.TorusKnotBufferGeometry:c.TorusKnotGeometry)(e.geometry.radius,e.geometry.tube,e.geometry.radialSegments,e.geometry.tubularSegments,e.geometry.p,e.geometry.q)}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{radius:100,tube:40,radialSegments:64,tubularSegments:8,p:2,q:3}}),a.instructions=l({},s.a.instructions,{geometry:["radius","tube","radialSegments","tubularSegments","p","q"]}),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a,u,c=n(0),s=(n.n(c),n(1)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},h=(u=a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.defaults,t.instructions));return e.build&&(n.build(e),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"wrap",n).call(n)),n}return i(t,e),f(t,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,t=this.applyBridge({geometry:this.buildGeometry(e),material:e.material}),n=t.geometry,r=t.material;return this.applyBridge({mesh:new c.Mesh(n,r)}).mesh}},{key:"buildGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffer&&!e.softbody?c.TubeBufferGeometry:c.TubeGeometry,n=new t(e.geometry.path,e.geometry.segments,e.geometry.radius,e.geometry.radiusSegments,e.geometry.closed);return e.softbody&&this.proccessSoftbodyGeometry(n),n}}]),t}(s.a),a.defaults=l({},s.a.defaults,{geometry:{path:new c.LineCurve3(new c.Vector3(0,0,0),new c.Vector3(0,0,1)),segments:20,radius:2,radiusSegments:8,closed:!1}}),a.instructions=l({},s.a.instructions,{geometry:["path","segments","radius","radiusSegments","closed"]}),u)},function(e,t,n){"use strict";var r=n(40);n.d(t,"a",function(){return r.a});var o=n(41);n.d(t,"b",function(){return o.a});var i=n(42);n.d(t,"c",function(){return i.a});var a=n(43);n.d(t,"d",function(){return a.a});var u=n(45);n.d(t,"e",function(){return u.a});var c=n(46);n.d(t,"f",function(){return c.a});var s=n(47);n.d(t,"g",function(){return s.a});var l=n(19);n.d(t,"h",function(){return l.a});var f=n(48);n.d(t,"i",function(){return f.a});var p=n(49);n.d(t,"j",function(){return p.a});var h=n(50);n.d(t,"k",function(){return h.a});var d=n(51);n.d(t,"l",function(){return d.a});var y=n(52);n.d(t,"m",function(){return y.a});var b=n(53);n.d(t,"n",function(){return b.a});var v=n(54);n.d(t,"o",function(){return v.a});var m=n(55);n.d(t,"p",function(){return m.a});var g=n(56);n.d(t,"q",function(){return g.a});var w=n(57);n.d(t,"r",function(){return w.a});var O=n(58);n.d(t,"s",function(){return O.a});var j=n(59);n.d(t,"t",function(){return j.a});var _=n(44);n.d(t,"u",function(){return _.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var a=n(12),u=n(16),c=n(11),s=n(14),l=n(15),f=n(20),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,t);var n=[new a.a,new u.a,new c.a,new s.a({},{shadow:!0}),new l.a].concat(e);return o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return i(t,e),t}(f.a)},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.a});var o=n(1);n.d(t,"b",function(){return o.a});var i=n(2);n.d(t,"c",function(){return i.a});var a=n(6);n.d(t,"d",function(){return a.a});var u=n(20);n.d(t,"e",function(){return u.a});var c=n(61);n.d(t,"f",function(){return c.a});var s=n(7);n.d(t,"g",function(){return s.a});var l=n(8);n.d(t,"h",function(){return l.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var a=n(19),u=function(e){function t(e){var n;r(this,t),console.warn("Model is deprecated. Use Importer instead."),e.geometry&&(e.url=e.geometry.path,e.loader=e.geometry.loader);for(var i=arguments.length,a=Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];return o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a)))}return i(t,e),t}(a.a)},function(e,t,n){"use strict";var r=n(67);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"d",function(){return r.d}),n.d(t,"e",function(){return r.e}),n.d(t,"f",function(){return r.f}),n.d(t,"g",function(){return r.g});var o=n(68);n.d(t,"h",function(){return o.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return c});var a=n(4),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e,n,i){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.needsSwap=!1,a.clearColor=void 0===n?0:n,a.clearAlpha=void 0===i?0:i,a}return i(t,e),u(t,[{key:"render",value:function(e,t,n){var r=void 0,o=void 0;this.clearColor&&(r=e.getClearColor().getHex(),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.setRenderTarget(this.renderToScreen?null:n),e.clear(),this.clearColor&&e.setClearColor(r,o)}}]),t}(a.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(0),u=(n.n(a),n(10)),c=n(4),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,i){r(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));void 0===u.a&&console.error("TexturePass relies on CopyShader");var s=u.a;return c.map=n,c.opacity=void 0===i?1:i,c.uniforms=a.UniformsUtils.clone(s.uniforms),c.material=new a.ShaderMaterial({uniforms:c.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,depthTest:!1,depthWrite:!1}),c.needsSwap=!1,c.camera=new a.OrthographicCamera(-1,1,1,-1,0,1),c.scene=new a.Scene,c.quad=new a.Mesh(new a.PlaneBufferGeometry(2,2),null),c.scene.add(c.quad),c}return i(t,e),s(t,[{key:"render",value:function(e,t,n){var r=e.autoClear;e.autoClear=!1,this.quad.material=this.material,this.uniforms.opacity.value=this.opacity,this.uniforms.tDiffuse.value=this.map,this.material.transparent=this.opacity<1,e.render(this.scene,this.camera,this.renderToScreen?null:n,this.clear),e.autoClear=r}}]),t}(c.a)},function(e,t,n){"use strict";var r=n(65);n.d(t,"a",function(){return r.a});var o=n(22);n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return o.b});var i=n(4);n.d(t,"d",function(){return i.a});var a=n(23);n.d(t,"e",function(){return a.a});var u=n(24);n.d(t,"f",function(){return u.a});var c=n(66);n.d(t,"g",function(){return c.a})},function(e,t,n){"use strict";var r=n(10);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var o=n(0),i=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];r(this,e),this.params=Object.assign({color:15716789,density:.02,near:10,far:1e3},t),n&&"exp2"!==n?"linear"===n&&(this.fog=new o.Fog(this.params.color,this.params.near,this.params.far)):this.fog=new o.FogExp2(this.params.color,this.params.density)}return i(e,[{key:"manager",value:function(e){this.scene=e.get("scene"),this.scene.fog=this.fog}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return f});var o=n(0),i=(n.n(o),n(10)),a=n(24),u=n(23),c=n(22),s=n(7),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(){r(this,e),this.renderTargetA=null,this.renderTargetB=null,this.writeBuffer=null,this.readBuffer=null,this.passes=[],this.copyPass=new a.a(i.a),this.params={}}return l(e,[{key:"manager",value:function(e){var t=this;this.renderer=e.get("renderer"),this.scene=e.get("scene"),this.camera=e.get("camera"),this.oldLoop=e.get("renderer",!0).renderLoop,this.renderLoop=new s.a(function(e){return t.render(e.getDelta())}),this.configure()}},{key:"integrate",value:function(e){e.oldLoop.stop(this),e.renderLoop.start(this)}},{key:"configure",value:function(){var e=this.renderer.getSize();this.renderTargetA=new o.WebGLRenderTarget(e.width,e.height,{minFilter:o.LinearFilter,magFilter:o.LinearFilter,format:o.RGBAFormat,stencilBuffer:!1}),this.renderTargetB=this.renderTargetA.clone(),this.writeBuffer=this.renderTargetA,this.readBuffer=this.renderTargetB}},{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){if(e){var t=this.renderer?this.renderer.getSize():{width:0,height:0};e.setSize(t.width,t.height),this.passes.push(e)}}},{key:"getPass",value:function(e){return this.passes.filter(function(t){return t.name===e})[0]}},{key:"getPassIndex",value:function(e){var t="string"==typeof e?e:e.name;return this.passes.indexOf(this.getPass(t))}},{key:"addPassAfter",value:function(e,t){if(t){var n=this.getPassIndex(e);n=n<0?0:n+1,this.insertPass(t,n)}}},{key:"insertPass",value:function(e,t){e&&this.passes.splice(t,0,e)}},{key:"removePass",value:function(e){var t=this.getPassIndex(e);t>-1&&this.passes.splice(t,1)}},{key:"createRenderPass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.scene&&this.camera){var t=new u.a("renderscene",this.scene,this.camera.native);t.renderToScreen=e,this.addPass(t)}}},{key:"render",value:function(e){for(var t,n=0,r=this.passes.length,o=!1;n<r;n++)if(t=this.passes[n],!1!==t.enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,o),t.needsSwap){if(o){var i=this.renderer.context;i.stencilFunc(i.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),i.stencilFunc(i.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==c.a&&(t instanceof c.a?o=!0:t instanceof c.b&&(o=!1))}}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize();e=this.renderTarget1.clone(),e.setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.$renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.$renderTarget2}},{key:"setSize",value:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var n=0;n<this.passes.length;n++)this.passes[n].setSize(e,t)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var a=n(0),u=(n.n(a),n(27)),c=n.n(u),s=n(13),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.mouse=new a.Vector2,i.raycaster=new a.Raycaster,i.world=null,i.canvas=null,i.projectionPlane=new a.Plane(new a.Vector3(0,0,1),0),i.globalMovement=e,i.patchEvents=n,i}return i(t,e),l(t,[{key:"update",value:function(e,t,n){var r=this.canvas.getBoundingClientRect(),o=t||e.clientX,i=n||e.clientY;this.mouse.x=(o-r.left)/(r.right-r.left)*2-1,this.mouse.y=-(i-r.top)/(r.bottom-r.top)*2+1,this.projectionPlane.normal.copy(this.camera.getWorldDirection()),this.raycaster.setFromCamera(this.mouse,this.camera),this.emit("move")}},{key:"manager",value:function(e){this.canvas=e.get("renderer").domElement,this.camera=e.get("camera").native}},{key:"integrate",value:function(e){var t=this;e.patchEvents&&this.applyModuleOnce(s.a,function(){return new s.a}),["click","mousedown","mouseup","mousemove"].forEach(function(n){return t.on(n,function(t){return e.emit(n,t)})}),e.globalX=0,e.globalY=0,this.on("mousemove",function(t){null!==document.pointerLockElement?(e.globalX+=t.movementX,e.globalY+=t.movementY,e.update(t,e.globalX,e.globalY)):e.update(t)})}},{key:"track",value:function(e){var t=this,n=!1;this.on("move",function(){t.hovers(e)?n?e.emit("mousemove"):(e.emit("mouseover"),n=!0):n&&(e.emit("mouseout"),n=!1)}),this.on("click",function(){n?e.emit("click"):e.emit("offClick")}),this.on("mousedown",function(){n&&e.emit("mousedown")}),this.on("mouseup",function(){n&&e.emit("mouseup")})}},{key:"intersection",value:function(e){return this.raycaster.intersectObject(e.native)}},{key:"project",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.projectionPlane;return this.raycaster.ray.intersectPlane(e)}},{key:"hovers",value:function(e){var t=this.intersection(e)[0];return!!t&&t.object===e.native}},{key:"ray",get:function(){return this.raycaster.ray}},{key:"x",get:function(){return this.mouse.x}},{key:"y",get:function(){return this.mouse.y}}]),t}(c.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return l});var a=n(0),u=(n.n(a),n(25)),c=n(74),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.params=Object.assign({follow:!1,target:new a.Vector3(0,0,0)},e),i}return i(t,e),s(t,[{key:"manager",value:function(e){var t=new c.a(e.get("camera").native,e.get("element"),e.handler),n=this.params,r=n.follow?function(e){t.update(e.getDelta()),t.target.copy(n.target)}:function(e){t.update(e.getDelta())};this.setControls(t),this.setUpdate(r),e.update({camera:function(e){t.object=e.native}}),t.target.copy(n.target)}}]),t}(u.a)},function(e,t,n){"use strict";var r=n(72);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return c});var a=n(0),u=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function(e){function t(e,n,i){r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.object=e,u.domElement=void 0===n?document:n,u.eventHandler=i,u.enabled=!0,u.target=new a.Vector3,u.minDistance=0,u.maxDistance=1/0,u.minZoom=0,u.maxZoom=1/0,u.minPolarAngle=0,u.maxPolarAngle=Math.PI,u.minAzimuthAngle=-1/0,u.maxAzimuthAngle=1/0,u.enableDamping=!1,u.dampingFactor=.25,u.enableZoom=!0,u.zoomSpeed=1,u.enableRotate=!0,u.rotateSpeed=1,u.enablePan=!0,u.keyPanSpeed=7,u.autoRotate=!1,u.autoRotateSpeed=2,u.enableKeys=!0,u.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},u.mouseButtons={ORBIT:a.MOUSE.LEFT,ZOOM:a.MOUSE.MIDDLE,PAN:a.MOUSE.RIGHT},u.target0=u.target.clone(),u.position0=u.object.position.clone(),u.zoom0=u.object.zoom,u.getPolarAngle=function(){return d.phi},u.getAzimuthalAngle=function(){return d.theta},u.reset=function(){u.target.copy(u.target0),u.object.position.copy(u.position0),u.object.zoom=u.zoom0,u.object.updateProjectionMatrix(),u.dispatchEvent(c),u.update(),p=f.NONE},u.update=function(){var t=new a.Vector3,n=(new a.Quaternion).setFromUnitVectors(e.up,new a.Vector3(0,1,0)),r=n.clone().inverse(),o=new a.Vector3,i=new a.Quaternion;return function(){var e=u.object.position;return t.copy(e).sub(u.target),t.applyQuaternion(n),d.setFromVector3(t),u.autoRotate&&p===f.NONE&&x(S()),d.theta+=y.theta,d.phi+=y.phi,d.theta=Math.max(u.minAzimuthAngle,Math.min(u.maxAzimuthAngle,d.theta)),d.phi=Math.max(u.minPolarAngle,Math.min(u.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=b,d.radius=Math.max(u.minDistance,Math.min(u.maxDistance,d.radius)),u.target.add(v),t.setFromSpherical(d),t.applyQuaternion(r),e.copy(u.target).add(t),u.object.lookAt(u.target),!0===u.enableDamping?(y.theta*=1-u.dampingFactor,y.phi*=1-u.dampingFactor):y.set(0,0,0),b=1,v.set(0,0,0),!!(m||o.distanceToSquared(u.object.position)>h||8*(1-i.dot(u.object.quaternion))>h)&&(u.dispatchEvent(c),o.copy(u.object.position),i.copy(u.object.quaternion),m=!1,!0)}()},u.dispose=function(){u.domElement.removeEventListener("contextmenu",ie,!1),u.domElement.removeEventListener("mousedown",Q,!1),u.domElement.removeEventListener("wheel",ee,!1),u.domElement.removeEventListener("touchstart",ne,!1),u.domElement.removeEventListener("touchend",oe,!1),u.domElement.removeEventListener("touchmove",re,!1),document.removeEventListener("mousemove",$,!1),document.removeEventListener("mouseup",J,!1),window.removeEventListener("keydown",te,!1)};var c={type:"change"},s={type:"start"},l={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},p=f.NONE,h=1e-6,d=new a.Spherical,y=new a.Spherical,b=1,v=new a.Vector3,m=!1,g=new a.Vector2,w=new a.Vector2,O=new a.Vector2,j=new a.Vector2,_=new a.Vector2,P=new a.Vector2,k=new a.Vector2,E=new a.Vector2,T=new a.Vector2,S=function(){return 2*Math.PI/60/60*u.autoRotateSpeed},C=function(){return Math.pow(.95,u.zoomSpeed)},x=function(e){y.theta-=e},M=function(e){y.phi-=e},R=function(){var e=new a.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}}(),B=function(){var e=new a.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),v.add(e)}}(),L=function(){var e=new a.Vector3;return function(t,n){var r=u.domElement===document?u.domElement.body:u.domElement;if(u.object instanceof a.PerspectiveCamera){var o=u.object.position;e.copy(o).sub(u.target);var i=e.length();i*=Math.tan(u.object.fov/2*Math.PI/180),R(2*t*i/r.clientHeight,u.object.matrix),B(2*n*i/r.clientHeight,u.object.matrix)}else u.object instanceof a.OrthographicCamera?(R(t*(u.object.right-u.object.left)/u.object.zoom/r.clientWidth,u.object.matrix),B(n*(u.object.top-u.object.bottom)/u.object.zoom/r.clientHeight,u.object.matrix)):(console.warn("WARNING: OrbitControlsModule.js encountered an unknown camera type - pan disabled."),u.enablePan=!1)}}(),A=function(e){u.object instanceof a.PerspectiveCamera?b/=e:u.object instanceof a.OrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom*e)),u.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControlsModule.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)},G=function(e){u.object instanceof a.PerspectiveCamera?b*=e:u.object instanceof a.OrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/e)),u.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControlsModule.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)},D=function(e){g.set(e.clientX,e.clientY)},z=function(e){k.set(e.clientX,e.clientY)},F=function(e){j.set(e.clientX,e.clientY)},N=function(e){w.set(e.clientX,e.clientY),O.subVectors(w,g);var t=u.domElement===document?u.domElement.body:u.domElement;x(2*Math.PI*O.x/t.clientWidth*u.rotateSpeed),M(2*Math.PI*O.y/t.clientHeight*u.rotateSpeed),g.copy(w),u.update()},H=function(e){E.set(e.clientX,e.clientY),T.subVectors(E,k),T.y>0?A(C()):T.y<0&&G(C()),k.copy(E),u.update()},U=function(e){_.set(e.clientX,e.clientY),P.subVectors(_,j),L(P.x,P.y),j.copy(_),u.update()},V=function(e){e.deltaY<0?G(C()):e.deltaY>0&&A(C()),u.update()},I=function(e){switch(e.keyCode){case u.keys.UP:L(0,u.keyPanSpeed),u.update();break;case u.keys.BOTTOM:L(0,-u.keyPanSpeed),u.update();break;case u.keys.LEFT:L(u.keyPanSpeed,0),u.update();break;case u.keys.RIGHT:L(-u.keyPanSpeed,0),u.update()}},q=function(e){g.set(e.touches[0].pageX,e.touches[0].pageY)},Y=function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);k.set(0,r)},W=function(e){j.set(e.touches[0].pageX,e.touches[0].pageY)},Z=function(e){w.set(e.touches[0].pageX,e.touches[0].pageY),O.subVectors(w,g);var t=u.domElement===document?u.domElement.body:u.domElement;x(2*Math.PI*O.x/t.clientWidth*u.rotateSpeed),M(2*Math.PI*O.y/t.clientHeight*u.rotateSpeed),g.copy(w),u.update()},X=function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);E.set(0,r),T.subVectors(E,k),T.y>0?G(C()):T.y<0&&A(C()),k.copy(E),u.update()},K=function(e){_.set(e.touches[0].pageX,e.touches[0].pageY),P.subVectors(_,j),L(P.x,P.y),j.copy(_),u.update()},Q=function(e){if(!1!==u.enabled){if(e.preventDefault(),e.button===u.mouseButtons.ORBIT){if(!1===u.enableRotate)return;D(e),p=f.ROTATE}else if(e.button===u.mouseButtons.ZOOM){if(!1===u.enableZoom)return;z(e),p=f.DOLLY}else if(e.button===u.mouseButtons.PAN){if(!1===u.enablePan)return;F(e),p=f.PAN}p!==f.NONE&&(u.eventHandler.on("mousemove",$,!1),u.eventHandler.on("mouseup",J,!1),u.dispatchEvent(s))}},$=function(e){if(!1!==u.enabled)if(e.preventDefault(),p===f.ROTATE){if(!1===u.enableRotate)return;N(e)}else if(p===f.DOLLY){if(!1===u.enableZoom)return;H(e)}else if(p===f.PAN){if(!1===u.enablePan)return;U(e)}},J=function e(t){!1!==u.enabled&&(document.removeEventListener("mousemove",$,!1),document.removeEventListener("mouseup",e,!1),u.dispatchEvent(l),p=f.NONE)},ee=function(e){!1===u.enabled||!1===u.enableZoom||p!==f.NONE&&p!==f.ROTATE||(e.preventDefault(),e.stopPropagation(),V(e),u.dispatchEvent(s),u.dispatchEvent(l))},te=function(e){!1!==u.enabled&&!1!==u.enableKeys&&!1!==u.enablePan&&I(e)},ne=function(e){if(!1!==u.enabled){switch(e.touches.length){case 1:if(!1===u.enableRotate)return;q(e),p=f.TOUCH_ROTATE;break;case 2:if(!1===u.enableZoom)return;Y(e),p=f.TOUCH_DOLLY;break;case 3:if(!1===u.enablePan)return;W(e),p=f.TOUCH_PAN;break;default:p=f.NONE}p!==f.NONE&&u.dispatchEvent(s)}},re=function(e){if(!1!==u.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===u.enableRotate)return;if(p!==f.TOUCH_ROTATE)return;Z(e);break;case 2:if(!1===u.enableZoom)return;if(p!==f.TOUCH_DOLLY)return;X(e);break;case 3:if(!1===u.enablePan)return;if(p!==f.TOUCH_PAN)return;K(e);break;default:p=f.NONE}},oe=function(e){!1!==u.enabled&&(u.dispatchEvent(l),p=f.NONE)},ie=function(e){e.preventDefault()};return u.eventHandler.on("contextmenu",ie,!1),u.eventHandler.on("mousedown",Q,!1),u.eventHandler.on("wheel",ee,!1),u.eventHandler.on("touchstart",ne,!1),u.eventHandler.on("touchend",oe,!1),u.eventHandler.on("touchmove",re,!1),u.eventHandler.on("keydown",te,!1),u.update(),u}return i(t,e),u(t,[{key:"center",get:function(){return console.warn("OrbitControls: .center has been renamed to .target"),this.target}},{key:"noZoom",get:function(){return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},{key:"noRotate",get:function(){return console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},{key:"noPan",get:function(){return console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},{key:"noKeys",get:function(){return console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},{key:"staticMoving",get:function(){return console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},{key:"dynamicDampingFactor",get:function(){return console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}]),t}(a.EventDispatcher)},function(e,t,n){"use strict";var r=n(12);n.d(t,"a",function(){return r.a});var o=n(11);n.d(t,"b",function(){return o.a});var i=n(14);n.d(t,"c",function(){return i.a});var a=n(16);n.d(t,"d",function(){return a.a});var u=n(15);n.d(t,"e",function(){return u.a});var c=n(70);n.d(t,"f",function(){return c.a});var s=n(71);n.d(t,"g",function(){return s.a});var l=n(13);n.d(t,"h",function(){return l.a});var f=n(25);n.d(t,"i",function(){return f.a});var p=n(69);n.d(t,"j",function(){return p.a})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.params=Object.assign({attributes:!1},t)}return i(e,[{key:"integrate",value:function(e){var t=this,n=e.params;if(this.g_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buildGeometry&&(this.native.geometry=this.buildGeometry(this.updateParams({geometry:e})))},n.attributes){for(var o in this.params.geometry)!function(e){e&&Object.defineProperty(t,"g_"+e,{get:function(){return this.native.geometry.parameters[e]},set:function(t){this.native.geometry=this.buildGeometry(this.updateParams({geometry:r({},e,t)}))},configurable:!0,enumerable:!0})}(o)}}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return u});var o=n(0),i=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),a=new o.TextureLoader,u=function(){function e(){var t=this;r(this,e),this.textures=[],this.bridge={material:function(e,t){return t.textures.forEach(function(t){e[t[0]]=t[1]}),e}};for(var n=arguments.length,i=Array(n),u=0;u<n;u++)i[u]=arguments[u];i.forEach(function(e){var n=e.url,r=e.type,i=void 0===r?"map":r,u=e.offset,c=void 0===u?new o.Vector2(0,0):u,s=e.repeat,l=void 0===s?new o.Vector2(1,1):s,f=e.wrap,p=void 0===f?o.RepeatWrapping:f,h=e.mapping,d=void 0===h?o.UVMapping:h,y=e.fix,b=void 0===y?function(e){return e}:y,v=a.load(n);p.length>0?(v.wrapS=p[0],v.wrapT=p[1]):v.wrapS=v.wrapT=p,v.mapping=d,v.offset.copy(c),v.repeat.copy(l),v.magFilter=o.NearestFilter,v.minFilter=o.LinearMipMapLinearFilter,t.textures.push([i,b(v)])})}return i(e,null,[{key:"load",value:function(t){return new e({url:t}).textures[0][1]}}]),e}()},function(e,t,n){"use strict";var r=n(76);n.d(t,"a",function(){return r.a});var o=n(77);n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.modules=t}return o(e,null,[{key:"Array",value:function e(){for(var t=[],n=arguments.length,r=e(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach(function(e){e[0]&&t.push(e[1]())}),t}}]),o(e,[{key:"get",value:function(){return this.modules}},{key:"extend",value:function(e){return this.modules=this.modules.concat(e),this}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var a=n(79),u=n(12),c=n(16),s=n(11),l=n(14),f=n(15),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.camera,i=e.rendering,a=e.element;return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[new u.a(a),new c.a,new s.a(n),new l.a(i,{shadow:!0})]))}return i(t,e),p(t,[{key:"autoresize",value:function(){return this.modules.push(new f.a),this}}]),t}(a.a)},function(e,t,n){"use strict";var r=n(80);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=!0,a=!1,u=void 0;try{for(var c,s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value;if(l){var f=!0,p=!1,h=void 0;try{for(var d,y=Object.getOwnPropertyNames(l)[Symbol.iterator]();!(f=(d=y.next()).done);f=!0){var b=d.value;void 0!==t[b]&&"[object Object]"===t[b].toString()&&"[object Object]"===l[b].toString()?l[b].uuid?t[b]=l[b]:e(t[b],l[b]):t[b]=void 0===t[b]?l[b]:t[b],void 0===t[b]&&Array.isArray(l[b])?t[b]=l[b].slice():void 0===t[b]&&Array.isArray(l[b])&&(t[b]=l[b])}}catch(e){p=!0,h=e}finally{try{!f&&y.return&&y.return()}finally{if(p)throw h}}}}}catch(e){a=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw u}}return t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var r=function(e,t){for(var n={},r=0,o=t.length;r<o;r++){n[t[r]]=e[r]}return n},o=function e(t,n){for(var o in n)Array.isArray(t[o])?t[o]=r(t[o],n[o]):t[o]instanceof Object&&!Array.isArray(n[o])&&(t[o]=e(t[o],n[o]));return t},i=function(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];n[r]=e[i]}return n}},function(e,t,n){(function(t){var n=t.performance||{},r=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in n)return n[t].bind(n)}var r=Date.now||function(){return(new Date).getTime()},o=(n.timing||{}).navigationStart||r();return function(){return r()-o}}();r.performanceNow=n.now,r.noConflict=function(){n.now=r.performanceNow},r.conflict=function(){n.now=r},r.conflict(),e.exports=r}).call(t,n(28))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?d=h.concat(d):b=-1,d.length&&u())}function u(){if(!y){var e=o(a);y=!0;for(var t=d.length;t;){for(h=d,d=[];++b<t;)h&&h[b].run();b=-1,t=d.length}h=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,d=[],y=!1,b=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new c(e,t)),1!==d.length||y||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){e.exports=n(29)}])});